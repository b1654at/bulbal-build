{"version":3,"file":"js/369.563d75e1.js","mappings":"wJAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,aAAa,EAC7F,EACIE,EAAkB,GCFlBL,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,SAAS,EACzF,EACIE,EAAkB,G,oBCFsC,EAAU,W,IAAiBC,EAAAA,K,EAAaC,EAAK,S,OAASC,EAAAA,MAAQ,SAAU,C,WAAW,CAACC,CAAgBC,IAAAA,EAAAA,EAA6B,cAACC,QAAW,WAA8DR,MAAG,EAAO,eAAES,WAAM,mB,YAAwB,4D,CAAkB,W,MAAmB,CAA0B,uBAAGX,eAAkB,GAAkB,gBAAU,GAAcY,wBAAK,K,EAAsBC,GAAAA,EAAAA,MAAY,c,OAAC,eAAa,CAAiB,MAAE,YAAK,SAAYD,YAAK,CAACD,WAAM,oBAAa,eAAG,IAAI,EAAG,MAAO,CAAiDD,KAAW,MAAkB,E,IAAU,KAAO,OAAC,MAAS,e,YAAC,UAAkB,OAAG,KAAO,GACvrB,gBACGN,cAAkB,M,sGCgCtB,GACAE,KAAAA,OACAQ,WAAAA,CACAC,MAAAA,EAAAA,EACAC,UAAAA,EAAAA,EACAC,SAAAA,EAAAA,GAEAC,KAAAA,KAAAA,CACAC,OAAAA,GACAC,UAAAA,yBAEAC,SAAAA,CACAH,OACA,sCACA,GAEA,sBACA,uCACA,EACAI,MAAAA,CACA,sBACA,uCACA,GAEAC,QAAAA,CACAC,OACA,wBACA,EACAhB,iBACA,yDACA,uDACA,4BAEA,YADA,YAGA,mCACA,CACA,GAEAiB,iBAAAA,EAAAA,EAAAA,GACAC,QAAAA,IAAAA,GACAA,QAAAA,IAAAA,EAMA,GCjFsQ,I,UCQlQC,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIF,EAAeA,EAAiB,QCXhC,GACArB,KAAAA,WACAQ,WAAAA,CACAc,KAAAA,ICXiQ,ICO7P,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIF,EAAe,EAAiB,QCVhC,GACAtB,KAAAA,WACAQ,WAAAA,CACAe,SAAAA,GAEAJ,iBAAAA,EAAAA,EAAAA,GACA,iBACA,kCACAD,KAEAA,GAEA,GCpBiQ,ICO7P,GAAY,OACd,EACAzB,EACAK,GACA,EACA,KACA,WACA,MAIF,EAAe,EAAiB,O","sources":["webpack://bulbal/./src/pages/MainPage/MainPage.vue","webpack://bulbal/./src/widgets/Post/PostList.vue","webpack://bulbal/./src/widgets/Post/components/Post.vue","webpack://bulbal/src/widgets/Post/components/Post.vue","webpack://bulbal/./src/widgets/Post/components/Post.vue?5600","webpack://bulbal/./src/widgets/Post/components/Post.vue?a400","webpack://bulbal/src/widgets/Post/PostList.vue","webpack://bulbal/./src/widgets/Post/PostList.vue?905a","webpack://bulbal/./src/widgets/Post/PostList.vue?24d3","webpack://bulbal/src/pages/MainPage/MainPage.vue","webpack://bulbal/./src/pages/MainPage/MainPage.vue?945e","webpack://bulbal/./src/pages/MainPage/MainPage.vue?0bf4"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('PostList')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('Post')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{directives:[{name:\"scroll\",rawName:\"v-scroll\",value:(_vm.onWindowScroll),expression:\"onWindowScroll\"}],staticClass:\"container d-flex flex-column justify-center align-center\"},[_c('stack',{attrs:{\"column-min-width\":200,\"gutter-width\":15,\"gutter-height\":15,\"monitor-images-loaded\":\"\"}},_vm._l((_vm.data),function(image,i){return _c('stack-item',{key:i,staticClass:\"column\",staticStyle:{\"transition\":\"transform 300ms\"}},[_c('PostCard',{key:i,attrs:{\"data\":image}})],1)}),1),(_vm.$store.state.loading)?_c('v-progress-circular',{staticClass:\"mx-auto\",attrs:{\"size\":50,\"color\":\"primary\",\"indeterminate\":\"\"}}):_vm._e(),(_vm.$store.state.empty)?_c('div',[_vm._v(_vm._s(_vm.emptyText))]):_vm._e()],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"container d-flex flex-column justify-center align-center\" v-scroll=\"onWindowScroll\">\n      <stack\n          :column-min-width=\"200\"\n          :gutter-width=\"15\"\n          :gutter-height=\"15\"\n          monitor-images-loaded\n      >\n        <stack-item\n            v-for=\"(image, i) in data\"\n            :key=\"i\"\n            class=\"column\"\n            style=\"transition: transform 300ms\"\n        >\n          <PostCard :key=\"i\" :data=\"image\"/>\n        </stack-item>\n      </stack>\n      <v-progress-circular\n          v-if=\"$store.state.loading\"\n          :size=\"50\"\n          color=\"primary\"\n          class=\"mx-auto\"\n          indeterminate\n      ></v-progress-circular>\n      <div v-if=\"$store.state.empty\">{{emptyText}}</div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport PostCard from \"@/modules/PostComponents/PostCard\";\nimport {Stack, StackItem} from \"vue-stack-grid\";\nexport default {\n  name: \"Post\",\n  components: {\n    Stack,\n    StackItem,\n    PostCard\n  },\n  data:() => ({\n    images: [],\n    emptyText: 'Контента больше нет!'\n  }),\n  computed: {\n    data() {\n      return this.$store.getters.getMainData\n    }\n  },\n  async mounted() {\n    await this.$store.dispatch('getMainPageData')\n  },\n  watch: {\n    '$store.state.page'() {\n      this.$store.dispatch('getMainPageData')\n    }\n  },\n  methods: {\n    next() {\n      this.$store.state.page++\n    },\n    onWindowScroll() {\n      const scroll = document.documentElement.getBoundingClientRect()\n      if (scroll.bottom < document.documentElement.clientHeight + 150) {\n        if(!this.$store.state.empty) {\n          this.next()\n          return\n        }\n        this.$store.commit('setLoading', false)\n      }\n    }\n  },\n  beforeRouteLeave(to, from, next) {\n    console.log(from)\n    console.log(to)\n    // if (from.name === 'testing' && (to.name === 'login'  || to.name === 'profile') ) {\n    //   next(false);\n    // } else {\n    //   next();\n    // }\n  }\n}\n</script>\n\n<style scoped>\n\nimg {\n  width: 100%;\n  height: auto;\n  border-radius: 12px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Post.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Post.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Post.vue?vue&type=template&id=6743573a&scoped=true&\"\nimport script from \"./Post.vue?vue&type=script&lang=js&\"\nexport * from \"./Post.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Post.vue?vue&type=style&index=0&id=6743573a&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6743573a\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <Post/>\n  </div>\n</template>\n\n<script>\nimport Post from \"@/widgets/Post/components/Post\";\nexport default {\n  name: \"PostList\",\n  components: {\n    Post\n  },\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PostList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PostList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PostList.vue?vue&type=template&id=b9ce2a78&scoped=true&\"\nimport script from \"./PostList.vue?vue&type=script&lang=js&\"\nexport * from \"./PostList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b9ce2a78\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <PostList/>\n  </div>\n</template>\n\n<script>\nimport PostList from \"@/widgets/Post/PostList\";\nexport default {\n  name: \"MainPage\",\n  components: {\n    PostList\n  },\n  beforeRouteLeave(to, from, next) {\n    if (from.name === 'main' ) {\n      this.$store.commit('setRoute', true)\n      next();\n    } else {\n      next();\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MainPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MainPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainPage.vue?vue&type=template&id=41e01bf8&scoped=true&\"\nimport script from \"./MainPage.vue?vue&type=script&lang=js&\"\nexport * from \"./MainPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41e01bf8\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticRenderFns","directives","name","rawName","onWindowScroll","expression","staticClass","attrs","key","staticStyle","components","Stack","StackItem","PostCard","data","images","emptyText","computed","watch","methods","next","beforeRouteLeave","console","component","Post","PostList"],"sourceRoot":""}