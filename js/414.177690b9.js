"use strict";(self["webpackChunkbulbal"]=self["webpackChunkbulbal"]||[]).push([[414],{4414:function(t,e,s){s.r(e),s.d(e,{default:function(){return w}});var i=s(9582),n=s(4886),o=(s(2838),s(573)),a=s(7808),l=s(7069),r=s(5352),h=s(4101),c=s(7678);const u=(0,c.Z)(o.Z);var d=u.extend().extend({name:"v-otp-input",directives:{ripple:l.Z},inheritAttrs:!1,props:{length:{type:[Number,String],default:6},type:{type:String,default:"text"},plain:Boolean},data:()=>({initialValue:null,isBooted:!1,otp:[]}),computed:{outlined(){return!this.plain},classes(){return{...o.Z.options.computed.classes.call(this),...a.Z.options.computed.classes.call(this),"v-otp-input--plain":this.plain}}},watch:{isFocused:"updateValue",value(t){this.lazyValue=t,this.otp=(null===t||void 0===t?void 0:t.split(""))||[]}},created(){var t;this.$attrs.hasOwnProperty("browser-autocomplete")&&(0,h.fK)("browser-autocomplete","autocomplete",this),this.otp=(null===(t=this.internalValue)||void 0===t?void 0:t.split(""))||[]},mounted(){requestAnimationFrame((()=>this.isBooted=!0))},methods:{focus(t,e){this.onFocus(t,e||0)},genInputSlot(t){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor,{staticClass:"v-input__slot",style:{height:(0,r.kb)(this.height)},on:{click:()=>this.onClick(t),mousedown:e=>this.onMouseDown(e,t),mouseup:e=>this.onMouseUp(e,t)}}),[this.genDefaultSlot(t)])},genControl(t){return this.$createElement("div",{staticClass:"v-input__control"},[this.genInputSlot(t)])},genDefaultSlot(t){return[this.genFieldset(),this.genTextFieldSlot(t)]},genContent(){return Array.from({length:+this.length},((t,e)=>this.$createElement("div",this.setTextColor(this.validationState,{staticClass:"v-input",class:this.classes}),[this.genControl(e)])))},genFieldset(){return this.$createElement("fieldset",{attrs:{"aria-hidden":!0}},[this.genLegend()])},genLegend(){const t=this.$createElement("span",{domProps:{innerHTML:"&#8203;"}});return this.$createElement("legend",{style:{width:"0px"}},[t])},genInput(t){const e=Object.assign({},this.listeners$);return delete e.change,this.$createElement("input",{style:{},domProps:{value:this.otp[t],min:"number"===this.type?0:null},attrs:{...this.attrs$,autocomplete:"one-time-code",disabled:this.isDisabled,readonly:this.isReadonly,type:this.type,id:`${this.computedId}--${t}`,class:`otp-field-box--${t}`},on:Object.assign(e,{blur:this.onBlur,input:e=>this.onInput(e,t),focus:e=>this.onFocus(e,t),keydown:this.onKeyDown,keyup:e=>this.onKeyUp(e,t)}),ref:"input",refInFor:!0})},genTextFieldSlot(t){return this.$createElement("div",{staticClass:"v-text-field__slot"},[this.genInput(t)])},onBlur(t){this.isFocused=!1,t&&this.$nextTick((()=>this.$emit("blur",t)))},onClick(t){this.isFocused||this.isDisabled||!this.$refs.input[t]||this.onFocus(void 0,t)},onFocus(t,e){null===t||void 0===t||t.preventDefault(),null===t||void 0===t||t.stopPropagation();const s=this.$refs.input,i=this.$refs.input&&s[e||0];if(i)return document.activeElement!==i?(i.focus(),i.select()):void(this.isFocused||(this.isFocused=!0,i.select(),t&&this.$emit("focus",t)))},onInput(t,e){const s=+this.length-1,i=t.target,n=i.value,o=(null===n||void 0===n?void 0:n.split(""))||[],a=[...this.otp];for(let l=0;l<o.length;l++){const t=e+l;if(t>s)break;a[t]=o[l].toString()}o.length||a.splice(e,1),this.otp=a,this.internalValue=this.otp.join(""),e+o.length>=+this.length?(this.onCompleted(),this.clearFocus(e)):o.length&&this.changeFocus(e+o.length)},clearFocus(t){const e=this.$refs.input[t];e.blur()},onKeyDown(t){t.keyCode===r.Do.enter&&this.$emit("change",this.internalValue),this.$emit("keydown",t)},onMouseDown(t,e){t.target!==this.$refs.input[e]&&(t.preventDefault(),t.stopPropagation()),o.Z.options.methods.onMouseDown.call(this,t)},onMouseUp(t,e){this.hasMouseDown&&this.focus(t,e),o.Z.options.methods.onMouseUp.call(this,t)},changeFocus(t){this.onFocus(void 0,t||0)},updateValue(t){this.hasColor=t,t?this.initialValue=this.lazyValue:this.initialValue!==this.lazyValue&&this.$emit("change",this.lazyValue)},onKeyUp(t,e){t.preventDefault();const s=t.key;if(!["Tab","Shift","Meta","Control","Alt"].includes(s)&&!["Delete"].includes(s))return"ArrowLeft"===s||"Backspace"===s&&!this.otp[e]?e>0&&this.changeFocus(e-1):"ArrowRight"===s?e+1<+this.length&&this.changeFocus(e+1):void 0},onCompleted(){const t=this.otp.join("");t.length===+this.length&&this.$emit("finish",t)}},render(t){return t("div",{staticClass:"v-otp-input",class:this.themeClasses},this.genContent())}}),p=s(2933),g=s(3305),m=s(9258),v=function(){var t=this,e=t._self._c;return e(i.Z,{staticClass:"text-center py-10"},[e("h1",{staticClass:"mt-4"},[t._v("Введите код безопасности")]),e(n.ZB,{staticClass:"text-center mx-auto login_block"},[e("p",[t._v("Мы отправили ваш код на электронную "+t._s(t.$store.state.login.login.email)+" почту")]),e("div",[e("div",{staticClass:"ma-auto position-relative",staticStyle:{"max-width":"300px"}},[e(d,{attrs:{disabled:t.loading,length:"4"},on:{finish:t.onFinish},model:{value:t.$store.state.login.login.otp,callback:function(e){t.$set(t.$store.state.login.login,"otp",e)},expression:"$store.state.login.login.otp"}}),e(p.Z,{attrs:{absolute:"",value:t.loading}},[e(g.Z,{attrs:{indeterminate:"",color:"white"}})],1)],1),e(m.Z,{attrs:{color:t.snackbarColor,timeout:2e3},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" ")])],1)]),e("a",{attrs:{href:"#"},on:{click:function(e){return t.$emit("next","login")}}},[t._v("Назад")])],1)},k=[],f=s(9932),b={name:"CodePageCard",data:()=>({loading:!1,snackbar:!1,snackbarColor:"default",otp:"",text:"",expectedOtp:"133707"}),methods:{onFinish(t){this.loading=!0,this.$store.dispatch("OTPCheck").then((async t=>{this.loading=!1,this.snackbarColor="success",this.text="Удачно",this.snackbar=!0,await(0,f.o4)(t.data),window.location.reload()})).catch((t=>{this.loading=!1,this.snackbarColor="warning",this.text=t.message,this.snackbar=!0}))}}},C=b,y=s(1001),$=(0,y.Z)(C,v,k,!1,null,"13c913c0",null),w=$.exports},9258:function(t,e,s){s.d(e,{Z:function(){return u}});var i=s(7423),n=s(6878),o=s(6669),a=s(1444),l=s(4263),r=s(7678),h=s(5352),c=s(4101),u=(0,r.Z)(i.Z,n.Z,a.Z,(0,l.d)(["absolute","bottom","left","right","top"])).extend({name:"v-snackbar",props:{app:Boolean,centered:Boolean,contentClass:{type:String,default:""},multiLine:Boolean,text:Boolean,timeout:{type:[Number,String],default:5e3},transition:{type:[Boolean,String],default:"v-snack-transition",validator:t=>"string"===typeof t||!1===t},vertical:Boolean},data:()=>({activeTimeout:-1}),computed:{classes(){return{"v-snack--absolute":this.absolute,"v-snack--active":this.isActive,"v-snack--bottom":this.bottom||!this.top,"v-snack--centered":this.centered,"v-snack--has-background":this.hasBackground,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--text":this.text,"v-snack--top":this.top,"v-snack--vertical":this.vertical}},hasBackground(){return!this.text&&!this.outlined},isDark(){return this.hasBackground?!this.light:o.Z.options.computed.isDark.call(this)},styles(){if(this.absolute||!this.app)return{};const{bar:t,bottom:e,footer:s,insetFooter:i,left:n,right:o,top:a}=this.$vuetify.application;return{paddingBottom:(0,h.kb)(e+s+i),paddingLeft:(0,h.kb)(n),paddingRight:(0,h.kb)(o),paddingTop:(0,h.kb)(t+a)}}},watch:{isActive:"setTimeout",timeout:"setTimeout"},mounted(){this.isActive&&this.setTimeout()},created(){this.$attrs.hasOwnProperty("auto-height")&&(0,c.Jk)("auto-height",this),0==this.timeout&&(0,c.Rn)('timeout="0"',"-1",this)},methods:{genActions(){return this.$createElement("div",{staticClass:"v-snack__action "},[(0,h.z9)(this,"action",{attrs:{class:"v-snack__btn"}})])},genContent(){return this.$createElement("div",{staticClass:"v-snack__content",class:{[this.contentClass]:!0},attrs:{role:"status","aria-live":"polite"}},[(0,h.z9)(this)])},genWrapper(){const t=this.hasBackground?this.setBackgroundColor:this.setTextColor,e=t(this.color,{staticClass:"v-snack__wrapper",class:i.Z.options.computed.classes.call(this),style:i.Z.options.computed.styles.call(this),directives:[{name:"show",value:this.isActive}],on:{pointerenter:()=>window.clearTimeout(this.activeTimeout),pointerleave:this.setTimeout}});return this.$createElement("div",e,[this.genContent(),this.genActions()])},genTransition(){return this.$createElement("transition",{props:{name:this.transition}},[this.genWrapper()])},setTimeout(){window.clearTimeout(this.activeTimeout);const t=Number(this.timeout);this.isActive&&![0,-1].includes(t)&&(this.activeTimeout=window.setTimeout((()=>{this.isActive=!1}),t))}},render(t){return t("div",{staticClass:"v-snack",class:this.classes,style:this.styles},[!1!==this.transition?this.genTransition():this.genWrapper()])}})}}]);
//# sourceMappingURL=414.177690b9.js.map