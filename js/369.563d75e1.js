"use strict";(self["webpackChunkbulbal"]=self["webpackChunkbulbal"]||[]).push([[369],{1039:function(t,e,s){s.r(e),s.d(e,{default:function(){return $}});var a=function(){var t=this,e=t._self._c;return e("div",[e("PostList")],1)},n=[],o=function(){var t=this,e=t._self._c;return e("div",[e("Post")],1)},i=[],r=s(3305),l=s(3130),c=function(){var t=this,e=t._self._c;return e("div",[e("div",{directives:[{def:l.Z,name:"scroll",rawName:"v-scroll",value:t.onWindowScroll,expression:"onWindowScroll"}],staticClass:"container d-flex flex-column justify-center align-center"},[e("stack",{attrs:{"column-min-width":200,"gutter-width":15,"gutter-height":15,"monitor-images-loaded":""}},t._l(t.data,(function(t,s){return e("stack-item",{key:s,staticClass:"column",staticStyle:{transition:"transform 300ms"}},[e("PostCard",{key:s,attrs:{data:t}})],1)})),1),t.$store.state.loading?e(r.Z,{staticClass:"mx-auto",attrs:{size:50,color:"primary",indeterminate:""}}):t._e(),t.$store.state.empty?e("div",[t._v(t._s(t.emptyText))]):t._e()],1)])},u=[],m=s(8158),d=s(2827),h={name:"Post",components:{Stack:d.K,StackItem:d.v,PostCard:m.Z},data:()=>({images:[],emptyText:"Контента больше нет!"}),computed:{data(){return this.$store.getters.getMainData}},async mounted(){await this.$store.dispatch("getMainPageData")},watch:{"$store.state.page"(){this.$store.dispatch("getMainPageData")}},methods:{next(){this.$store.state.page++},onWindowScroll(){const t=document.documentElement.getBoundingClientRect();if(t.bottom<document.documentElement.clientHeight+150){if(!this.$store.state.empty)return void this.next();this.$store.commit("setLoading",!1)}}},beforeRouteLeave(t,e,s){console.log(e),console.log(t)}},f=h,g=s(1001),p=(0,g.Z)(f,c,u,!1,null,"6743573a",null),v=p.exports,b={name:"PostList",components:{Post:v}},x=b,P=(0,g.Z)(x,o,i,!1,null,"b9ce2a78",null),_=P.exports,k={name:"MainPage",components:{PostList:_},beforeRouteLeave(t,e,s){"main"===e.name?(this.$store.commit("setRoute",!0),s()):s()}},w=k,y=(0,g.Z)(w,a,n,!1,null,"41e01bf8",null),$=y.exports}}]);
//# sourceMappingURL=369.563d75e1.js.map